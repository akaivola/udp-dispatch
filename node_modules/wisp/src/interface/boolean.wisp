(ns wisp.interface.boolean
  (:require [wisp.interface.protocol :refer [satisfies?]]))

(defprotocol IBoolean
  "Interface for defining boolean types")

(defprotocol ICastBoolean
  "Interface for defining boolean logic for types
  (Do not implement this protocol it's exists only
  in order to make `nil` and `false` be falsy."
  (->boolean [x]))

(extend-type default
  ICastBoolean
  (->boolean [x] (not (or (nil? x)
                          (identical? x false)))))

(defn boolean?
  [x]
  (satisfies? IBoolean x))
